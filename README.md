# **VEZDECODE-BACKEND-TRACK**

## Структура приложения

1. `testing-scripts`

   В файле `index.js` находится скрипт, тестирующий работоспособность загрузки и получения изображений. Для запуска используйте

   `yarn`

   `node index.js`

   При запуске происходит загрузка файла `pathToUploadingFIle` на сервер методом `uploadImage`, далее происходит получение его `id`, после чего вызывается метод `getImage`, который возвращает файл по параметру `id`. 

   В переменной `pathToFileToCompare` хранится путь к файлу, с которым вы хотите сравнить полученный с сервера файл. Сравнение файлов происходит путем сравнения буфферов.

   В файле можно сконфигурировать переменные:

   * `pathToUploadingFile` - путь к загружаемому на сервер файлу

   * `pathToFileToCompare` - путь к файлу, с которым вы хотите сравнить получаемый с сервера файла
   * `serverHost` - хост сервера, на котором запущен бекенд. По умолчанию: `localhost`
   * `serverPort` - порт сервера, на котором запущен бекенд. По умолчанию: `3000`

2. `vezdecode-backend-track`

   Backend можно запустить локально следующими командами (на машине должен быть установлен `docker-compose`):

   `docker-compose up --build`

   При введении команд происходит локальный запуск `mysql`, а также основного бекенда.

##### Доступные запросы к серверу:

* `/images/get?id={}&scale={}` - `GET` запрос получения изображения. Параметр `id:int` обязателен. `scale:float` - необязательный, служит для масштабирования изображения.
* `/images/upload` - `POST` запрос загрузки изображений. Отправка только через `Multipart Form`. Поле `file` должно содержать сам файл

